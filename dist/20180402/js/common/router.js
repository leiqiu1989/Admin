define("common/router",[],function(n,o,i){function t(){}$.extend(t.prototype,{init:function(n){return this.beforeLoad=n.beforeLoad||$.noop,this.callback=n.callback||$.noop,this},run:function(){function n(){var n=window.location.hash.replace("#","");return n?n:"main/index"}function o(){var o=n(),i=o.split("/"),t=i.length;return o.indexOf("=")==-1?o:i.splice(0,t-1).join("/")}function i(){var o=n(),i=o.split("/"),t=(i.length,i[i.length-1]||i.splice(-1));if(o.indexOf("=")==-1)return{};for(var i=t[0].split("&"),e={},l=0,r=i.length;l<r;++l)e[i[l].split("=")[0]]=i[l].split("=")[1];return e}window.onhashchange=function(){i().lg||this.loadmodule(o(),i())}.bind(this),this.loadmodule(o(),i())},loadmodule:function(o,i){var t=!0,e=o.split("/")[0];"function"==typeof this.beforeLoad&&(t=this.beforeLoad(e,o)),t&&n.async(["./../",o].join("/"),function(n){n?n.init(i):console.log("模块加载失败！")})}}),i.exports=new t});